!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("dojo/aspect"),require("dijit/registry"),require("dojo/_base/connect"));else if("function"==typeof define&&define.amd)define(["react","dojo/aspect","dijit/registry","dojo/_base/connect"],t);else{var i="object"==typeof exports?t(require("react"),require("dojo/aspect"),require("dijit/registry"),require("dojo/_base/connect")):t(e.react,e["dojo/aspect"],e["dijit/registry"],e["dojo/_base/connect"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,(function(e,t,i,n){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=24)}([function(t,i){t.exports=e},function(e,t,i){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===r)for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,i){var n;void 0===(n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.parseStyle=function(e){void 0===e&&(e="");try{return e.split(";").reduce((function(e,t){var i=t.split(":");2===i.length&&(e[i[0].trim().replace(/(-.)/g,(function(e){return e[1].toUpperCase()}))]=i[1].trim());return e}),{})}catch(t){window.console.log("Failed to parse style",e,t)}return{}},e.validateCompatibility=function(e){var t=e.listViewEntity,i=e.targetListView,n=i&&i.datasource&&i.datasource.type;if(!i){var o="This widget is unable to find a list view ";return o+=t?"with the supplied entity '"+t+"'":"to connect"}return n&&"database"!==n&&"xpath"!==n?"This widget is only compatible with list view data source type 'Database' and 'XPath'":i&&i._datasource&&i._entity&&i.update?i._entity&&void 0!==t&&t!==i._entity?'The supplied entity "'+e.listViewEntity+'" does not belong to list view data source':"":"This widget version is not compatible with this Mendix version"},e.findTargetNode=function(e){for(var t=null;!t&&e&&!((t=e.querySelectorAll(".mx-listview")[0])||e.isEqualNode(document)||!e.classList||e.classList.contains("mx-incubator")||e.classList.contains("mx-offscreen"));)e=e.parentNode;return t},e.delay=function(e,t,i){return void 0===i&&(i=500),setTimeout((function n(){t()?e():setTimeout(n,i)}),i)},e}();t.SharedUtils=i}.apply(t,[i,t]))||(e.exports=n)},function(e,t,i){var n,o;n=[i,t,i(8)],void 0===(o=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.findTargetListView=function(e,t){for(var n;e;){for(var o=e.querySelectorAll(".mx-listview"),r=0;r<o.length;r++){if((n=i.byNode(o.item(r)))&&!t)return n;if(n&&n._entity===t)return n}if(e.isEqualNode(document)||!e.classList||e.classList.contains("mx-incubator")||e.classList.contains("mx-offscreen"))break;e=e.parentNode}return n},e}();t.SharedContainerUtils=n}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{u(n.next(e))}catch(e){r(e)}}function s(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};void 0===(n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideLoadMoreButton=function(e){e&&e.classList.add("hide-load-more")},t.showLoadMoreButton=function(e){e&&e.domNode.classList.remove("hide-load-more")},t.resetListViewHeight=function(e){var t=e.querySelector("ul");t.style.removeProperty("height"),t.style.removeProperty("overflow")},t.persistListViewHeight=function(e){var t=e.querySelector("ul");t.offsetHeight>0&&(t.style.height=t.offsetHeight+"px",t.style.overflow="hidden")},t.getListNode=function(e){return e.querySelector("ul")},t.setListNodeToEmpty=function(e){logger.debug("setListNodeToEmpty");for(var t=e.querySelector("ul");t.firstChild;)t.removeChild(t.firstChild)},t.showLoader=function(e){logger.debug("showLoader"),e.domNode.classList.add("widget-pagination-loading")},t.hideLoader=function(e){logger.debug("hideLoader"),e.domNode.classList.remove("widget-pagination-loading")},t.mxTranslation=function(e,t,i,n,o){var r=null!=o?o:"[No translation]";return n?window.__widgets_translations&&(r=window.__widgets_translations[e+"."+t]||o||"[No translation]"):r=mx.session.getConfig("uiconfig.translations."+e+"."+t)||window.mx.session.getConfig("uiconfig.translations")[e+"."+t]||o||"[No translation]",i.reduce((function(e,t,i){return e.split("{"+(i+1)+"}").join(t)}),r)},t.getTranslations=function(){return r(void 0,void 0,void 0,(function(){var e,t,i,n;return a(this,(function(r){switch(r.label){case 0:return e=window.mx.session.getConfig("locale.code"),[4,fetch("/metamodel.json")];case 1:return[4,r.sent().json()];case 2:return(t=r.sent())&&t.systemTexts?(i=t.systemTexts,n=t.languages.indexOf(e),window.__widgets_translations=Object.keys(i).reduce((function(e,t){var r;return o(o({},e),((r={})[t]=i[t][n],r))}),{})):logger.error("Error while loading translations"),[2]}}))}))}}.apply(t,[i,t]))||(e.exports=n)},function(e,i){e.exports=t},function(e,t,i){var n,o;n=[i,t,i(0),i(1)],void 0===(o=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=function(e){var t=e.bootstrapStyle,o=e.className,r=e.children;return r?i.createElement("div",{className:n("alert alert-"+t,o)},r):null},t.Alert.displayName="Alert",t.Alert.defaultProps={bootstrapStyle:"danger"}}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o,r=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};n=[i,t,i(5),i(2),i(3),i(4),i(9),i(34)],void 0===(o=function(e,t,i,n,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.initialLoad=!0,this.delay=50,this.store={constraints:{_none:{}},sorting:{}},this.updateInProgress=!1,this.requiresUpdate=!1,this.sorting=[],this.constraints=[],this.widget=e,this.originalSort=window.mx.isOffline()?this.widget._datasource._sort:this.widget._datasource._sorting,i.after(e,"storeState",(function(t){(logger.debug("after storeState"),e.__customWidgetDataSourceHelper)&&(t("lvcSorting",e.__customWidgetDataSourceHelper.sorting&&e.__customWidgetDataSourceHelper.originalSort),t("lvcConstraints",e.__customWidgetDataSourceHelper.constraints),t("lvcPaging",e.__customWidgetDataSourceHelper.paging))}),!0)}return e.getInstance=function(t,i){var r=t&&t.parentElement,a=o.SharedContainerUtils.findTargetListView(r,i),s=n.SharedUtils.validateCompatibility({listViewEntity:i,targetListView:a});if(!s&&a)return a.__customWidgetDataSourceHelper||(a.__customWidgetDataSourceHelper=new e(a)),a.getState("lvcPersistState",!1)||this.hideContent(a.domNode),a.__customWidgetDataSourceHelper;throw new Error(s)},e.prototype.setSorting=function(e,t,i){void 0===i&&(i=!1),this.store.sorting={},this.store.sorting[e]=t,this.registerUpdate(i)},e.prototype.setConstraint=function(e,t,i,n){var o;void 0===i&&(i="_none"),void 0===n&&(n=!1);var r=i.trim()||"_none";this.store.constraints[r]?this.store.constraints[r][e]=t:this.store.constraints[r]=((o={})[e]=t,o),this.registerUpdate(n)},e.prototype.getListView=function(){return this.widget},e.prototype.registerUpdate=function(e){var t=this;logger.debug("DataSourceHelper .registerUpdate"),this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),this.updateInProgress?this.requiresUpdate=!0:this.timeoutHandle=window.setTimeout((function(){logger.debug("DataSourceHelper .execute"),t.updateInProgress=!0,t.iterativeUpdateDataSource(e)}),this.delay)},e.prototype.iterativeUpdateDataSource=function(e){var t=this;this.updateDataSource((function(){t.requiresUpdate?(t.requiresUpdate=!1,t.iterativeUpdateDataSource(e)):t.updateInProgress=!1}),e)},e.prototype.updateDataSource=function(t,i){var n=this,o=[],a=Object.keys(this.store.sorting).map((function(e){return n.store.sorting[e]})).filter((function(e){return e[0]&&e[1]}));if(a.length||(a=this.originalSort),window.mx.isOffline()){for(var s=Object.keys(this.store.constraints._none).map((function(e){return n.store.constraints._none[e]})),u=s.filter((function(e){return e.value})),c=s.filter((function(e){return e.operator})),l=[],p=0,d=Object.keys(this.store.constraints).filter((function(e){return"_none"!==e}));p<d.length;p++){for(var g=d[p],f=[],h=0,v=Object.keys(this.store.constraints[g]);h<v.length;h++){var m=v[h],y=this.store.constraints[g][m];y&&y.value&&f.push(y)}f.length&&l.push({constraints:f,operator:"or"})}o=r(u,c,l)}else{o=(u=Object.keys(this.store.constraints._none).map((function(e){return n.store.constraints._none[e]})).join(""))+(l=Object.keys(this.store.constraints).filter((function(e){return"_none"!==e})).map((function(e){return"["+Object.keys(n.store.constraints[e]).map((function(t){return n.store.constraints[e][t]})).filter((function(e){return e})).map((function(e){return e.trim().substr(1,e.trim().length-2)})).join(" or ")+"]"})).join("").replace(/\[]/g,""))}if(this.sorting=a,this.constraints=o,i)e.showContent(this.widget.domNode),this.hideLoader(),this.initialLoad=!1,t();else{this.widget._datasource._constraints=o,window.mx.isOffline()?this.widget._datasource._sort=a:this.widget._datasource._sorting=a,logger.debug("DataSourceHelper .set sort and constraint");var b=this.widget._datasource.getOffset(),S=this.widget._datasource.getPageSize();!this.widget.__lvcPagingEnabled&&b>0&&(logger.debug("reset offset"),this.widget._datasource.setOffset(0),this.widget._datasource.setPageSize(S+b)),this.initialLoad||this.showLoader(),this.widget.update(null,(function(){logger.debug("DataSourceHelper .updated"),!n.widget.__lvcPagingEnabled&&b>0&&(logger.debug("restore offset"),n.widget._datasource.setOffset(b),n.widget._datasource.setPageSize(S)),n.hideLoader(),n.initialLoad=!1,t()}))}},e.prototype.showLoader=function(){this.widget.domNode.classList.add("widget-data-source-helper-loading")},e.hideContent=function(e){e&&e.classList.add("widget-data-source-helper-initial-loading")},e.showContent=function(e){e&&e.classList.remove("widget-data-source-helper-initial-loading")},e.prototype.hideLoader=function(){this.widget.domNode.classList.remove("widget-data-source-helper-loading"),e.showContent(this.widget.domNode)},e.prototype.setPaging=function(e,t){var i=this,n=this.widget._datasource;if(!this.widget.__customWidgetPagingLoading){var o=!1;void 0!==e&&e!==n.getOffset()&&(this.widget.__customWidgetPagingOffset=e,n.setOffset(e),o=!0),void 0!==t&&t!==n.getPageSize()&&(n.setPageSize(t),o=!0),this.paging={pageSize:void 0!==t?t:n.getPageSize(),offset:void 0!==e?e:n.getOffset()},o&&(logger.debug(".updateDatasource changed",e,t),this.widget.__customWidgetPagingLoading=!0,this.showLoader(),this.widget.sequence(["_sourceReload","_renderData"],(function(){i.widget.__customWidgetPagingLoading=!1,a.resetListViewHeight(i.widget.domNode),logger.debug(".updateDatasource updated"),i.hideLoader()})))}},e}();t.DataSourceHelper=s}.apply(t,n))||(e.exports=o)},function(e,t){e.exports=i},function(e,t,i){var n;void 0===(n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(){var e=mxui.widget.ListView;function t(e){if(!(!e||"database"===e.datasource.type||"xpath"===e.datasource.type))return!1;var t=!!(e&&("database"===e.datasource.type||"xpath"===e.datasource.type)&&e._datasource&&e._datasource.reload&&e._datasource.setOffset&&e._datasource.setPageSize&&void 0!==e._datasource._constraints&&(e._datasource._sorting||e._datasource._sort)&&e._datasource.getSetSize&&e._datasource.getOffset);return t||logger.error("This Mendix version is not compatible with list view controls. The List view controls use is limited."),t}!e.prototype.__lvcPrototypeUpdated&&function(e){var t=!!(e&&e.postCreate&&e._loadData&&e.getState&&e._onLoad&&e._renderData);t||logger.error("This Mendix version is not compatible with list view controls. The List view prototype could not be updated.");return t}(e.prototype)?(e.prototype.__lvcPrototypeUpdated=!0,e.prototype.__postCreateOriginal=e.prototype.postCreate,e.prototype.postCreate=function(){if(logger.debug("list view control, overwrites postCreate prototype"),this.__postCreateOriginal(),t(this)){var e=this.getState("lvcPaging");e&&(void 0!==e.offset&&this._datasource.setOffset(e.offset),void 0!==e.pageSize&&this._datasource.setPageSize(e.pageSize));var i=this.getState("lvcSorting");i&&(this._datasource._sorting=i);var n=this.getState("lvcConstraints");n&&(this._datasource._constraints=n)}},e.prototype.__loadDataOriginal=e.prototype._loadData,e.prototype._loadData=function(e){var i=this;logger.debug("List view control, overwrites _loadData prototype"),t(this)?(this.__lvcPagingEnabled&&this._datasource.setOffset(0),this._datasource.reload((function(){var t=i._datasource.getOffset();if(t&&i._datasource.getSetSize()<=t)return i._datasource.setOffset(0),void i._loadData(e);i._renderData((function(){i._onLoad(),e&&e()}))}))):this.__loadDataOriginal(e)}):logger.debug("Prototype update called unexpected again")}()}.apply(t,[i,t]))||(e.exports=n)},function(e,t,i){var n,o;n=[i,t,i(11)],void 0===(o=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.form=e,this.widgetId=t,this.persistHandle=i.connect(e,"onPersistViewState",null,(function(e){var i=e[t]||(e[t]={});n(i)}))}return e.prototype.getPageState=function(e,t){var i=this.form,n=i&&i.viewState?i.viewState[this.widgetId]:void 0,o=n&&void 0!==n[e]?n[e]:t;return logger.debug("getPageState",this.widgetId,e,t,o),o},e.prototype.destroy=function(){i.disconnect(this.persistHandle)},e}();t.FormViewState=n}.apply(t,n))||(e.exports=o)},function(e,t){e.exports=n},,,,,,,,,,,,,function(e,t,i){var n,o,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{u(n.next(e))}catch(e){r(e)}}function s(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};n=[i,t,i(0),i(1),i(5),i(6),i(2),i(3),i(7),i(4),i(25),i(31),i(10),i(48)],void 0===(o=function(e,t,i,n,o,r,c,l,p,d,g,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t){var i=e.call(this,t)||this;return i.widgetDom=null,i.retriesFind=0,i.initialLoading=!0,logger.debug(i.props.uniqueid,".constructor"),i.updateListView=i.updateListView.bind(i),i.translateMessageStatus=i.translateMessageStatus.bind(i),i.viewStateManager=new h.FormViewState(i.props.mxform,i.props.uniqueid,(function(e){if(i.state.validationPassed){var t=i.state.targetListView._datasource;e.pageSize=t.getPageSize()||i.state.pageSize,e.offset=t.getOffset()||i.state.offset,e.isPersisted=!0}})),i.state={alertMessage:f.Validate.validateProps(i.props),pageSize:i.viewStateManager.getPageState("pageSize",void 0),offset:i.viewStateManager.getPageState("offset",0),isPersisted:i.viewStateManager.getPageState("isPersisted",!1),loadTranslations:!1},i}return a(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:if(logger.debug(this.props.uniqueid,".componentDidMount"),!!mx.session.getConfig("uiconfig.translations"))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,d.getTranslations()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),logger.debug(this.props.uniqueid,".loadingTranslations",e.message),[3,4];case 4:this.setState({loadTranslations:!0}),t.label=5;case 5:return c.SharedUtils.delay(this.connectToListView.bind(this),this.checkListViewAvailable.bind(this),20),[2]}}))}))},t.prototype.render=function(){var e=this;return logger.debug(this.props.uniqueid,".render"),i.createElement("div",{className:n("widget-pagination",this.props.class),ref:function(t){return e.widgetDom=t},style:c.SharedUtils.parseStyle(this.props.style)},i.createElement(r.Alert,{className:"widget-pagination-alert"},this.state.alertMessage),this.renderPageButton())},t.prototype.componentWillUnmount=function(){logger.debug(this.props.uniqueid,".componentWillUnmount"),d.showLoadMoreButton(this.state.targetListView),this.viewStateManager.destroy()},t.prototype.translateMessageStatus=function(e,t,i){return d.mxTranslation("mendix.lib.MxDataSource","status",[""+e,""+t,""+i],this.state.loadTranslations,"{1} - {2} / {3}")},t.prototype.checkListViewAvailable=function(){return logger.debug(this.props.uniqueid,".checkListViewAvailable"),!!this.widgetDom&&(this.retriesFind++,this.retriesFind>25||!!l.SharedContainerUtils.findTargetListView(this.widgetDom.parentElement))},t.prototype.renderPageButton=function(){if(logger.debug(this.props.uniqueid,".renderPageButton"),this.state.validationPassed&&this.state.pageSize&&this.state.targetListView._datasource.getSetSize()>0){var e=this.state,t=e.offset,n=e.pageSize;return logger.debug(this.props.uniqueid,".renderPageButton pagesize, offset, listsize",n,t,this.state.targetListView._datasource.getSetSize()),i.createElement(g.Pagination,{getMessageStatus:this.translateMessageStatus,hideUnusedPaging:this.props.hideUnusedPaging,items:this.props.items,listViewSize:this.state.targetListView._datasource.getSetSize(),pageSize:n,offset:t,onChange:this.updateListView,pagingStyle:this.props.pagingStyle,pageSizeOptions:this.props.pageSizeOptions})}return null},t.prototype.updateListView=function(e,t){logger.debug(this.props.uniqueid,".updateListView"),this.state.validationPassed&&(this.setState({offset:void 0!==e?e:this.state.offset,pageSize:void 0!==t?t:this.state.pageSize}),this.dataSourceHelper.setPaging(e,t))},t.prototype.connectToListView=function(){var e,t="";try{this.dataSourceHelper=p.DataSourceHelper.getInstance(this.widgetDom),e=this.dataSourceHelper.getListView()}catch(e){t=e.message}e&&p.DataSourceHelper.showContent(e.domNode);var i=!t;this.setState({alertMessage:t,targetListView:e,validationPassed:i}),i&&e&&(e.__lvcPagingEnabled=!0,d.hideLoadMoreButton(e.domNode),this.beforeListViewDataRender(e),this.afterListViewDataRender(e),e._renderData())},t.prototype.beforeListViewDataRender=function(e){var t=this;logger.debug(this.props.uniqueid,".beforeListViewDataRender"),o.before(e,"_renderData",(function(){logger.debug(t.props.uniqueid,"_renderData.before");var i=e._datasource;if(0!==i.getSetSize()){if(t.setState({listSize:i.getSetSize()}),t.initialLoading)t.afterListViewLoaded(e),t.initialLoading=!1;else{if(t.state.isPersisted&&void 0!==t.state.pageSize){e._datasource.getPageSize()!==t.state.pageSize&&e._datasource.setPageSize(t.state.pageSize);var n=t.correctOffset(t.state.offset,e._datasource.getSetSize());t.setState({offset:n}),t.setState({isPersisted:!1}),e._renderData()}if(e.__customWidgetPagingLoading)t.setState({offset:i.getOffset(),pageSize:i.getPageSize(),listSize:i.getSetSize()});else{logger.debug(t.props.uniqueid,".initialLoading False, pagingLoading False");var o=t.state.offset,r=i.getSetSize();n=o;o!==i.getOffset()&&(r>o?t.dataSourceHelper.setPaging(n):(n=0,e.__customWidgetPagingOffset=n));var a=i.getPageSize();t.state.offset===n&&t.state.pageSize===a&&t.state.listSize===r||(t.setState({offset:n,pageSize:a,listSize:r}),t.dataSourceHelper.setPaging(n,a))}}d.persistListViewHeight(e.domNode),d.setListNodeToEmpty(e.domNode)}else t.setState({listSize:i.getSetSize()})}))},t.prototype.afterListViewLoaded=function(e){logger.debug(this.props.uniqueid,".afterListViewLoad");var t=e._datasource,i=this.state.pageSize?this.state.pageSize:t.getPageSize()&&t.getPageSize()||10;this.state.pageSize||this.setState({pageSize:i});var n=this.correctOffset(this.state.offset,t.getSetSize());this.dataSourceHelper.setPaging(n,i)},t.prototype.afterListViewDataRender=function(e){var t=this;logger.debug(this.props.uniqueid,".afterListViewDataRender"),o.after(e,"_renderData",(function(){logger.debug(t.props.uniqueid,"_renderData.after"),d.resetListViewHeight(e.domNode)}))},t.prototype.correctOffset=function(e,t){return e<t?e:0},t}(i.Component);t.default=v}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};n=[i,t,i(0),i(1),i(26),i(27),i(30),i(4)],void 0===(o=function(e,t,i,n,o,r,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentOffset:t.props.offset},t.firstPageClickAction=function(){t.setState({currentOffset:0}),t.props.onChange(0)},t.nextPageClickAction=function(){var e=t.state.currentOffset+t.props.pageSize;t.setState({currentOffset:e}),t.props.onChange(e)},t.previousPageClickAction=function(){var e=Math.max(t.state.currentOffset-t.props.pageSize,0);t.setState({currentOffset:e}),t.props.onChange(e)},t.lastPageClickAction=function(){var e=t.props,i=e.pageSize,n=e.listViewSize,o=n%i==0?n-i:n-n%i;o>0&&t.setState({currentOffset:o}),t.props.onChange(o)},t.updatePagination=function(e){var i=(e-1)*t.props.pageSize;t.state.currentOffset!==i&&(t.setState({currentOffset:i}),t.props.onChange(i))},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.listViewSize,o=e.pageSize,r=e.hideUnusedPaging,a=!r||r&&t>o;return i.createElement("div",{className:n("pagination",a?"visible":"hidden"),role:"navigation","aria-label":c.mxTranslation("mxui.widget.Grid.a11y","navigation_aria_label",[],!0,"Pagination")},this.renderPagination())},t.prototype.componentWillReceiveProps=function(e){this.setState({currentOffset:e.offset})},t.prototype.renderPagination=function(){if("default"===this.props.pagingStyle)return this.renderDefault();if("pageNumberButtons"===this.props.pagingStyle){var e=this.props,t=e.listViewSize,n=e.pageSize,o=Math.ceil(t/n),a=this.getPageNumber(this.state.currentOffset,n,t);return[i.createElement(r.PageNumberView,{maxPageButtons:7,onClickAction:this.updatePagination,pageCount:o,selectedPageNumber:a,key:"numberView"})]}return this.renderCustom()},t.prototype.getPageNumber=function(e,t,i){return e<i?e/t+1:1},t.prototype.renderDefault=function(){return[this.createFirstButton(void 0,0),this.createPreviousButton(void 0,1),this.createMessage(void 0,2),this.createNextButton(void 0,3),this.createLastButton(void 0,4)]},t.prototype.renderCustom=function(){var e=this;return this.props.items.map((function(t,n){var o={buttonCaption:t.buttonCaption,buttonType:t.item,showIcon:t.showIcon,text:t.text,key:n};if("firstButton"===o.buttonType)return e.createFirstButton(o,n);if("nextButton"===o.buttonType)return e.createNextButton(o,n);if("previousButton"===o.buttonType)return e.createPreviousButton(o,n);if("lastButton"===o.buttonType)return e.createLastButton(o,n);if("text"===o.buttonType)return e.createMessage(o.text,n);if("pageNumberButtons"===o.buttonType){var a=e.props,s=a.listViewSize,c=a.pageSize,l=Math.ceil(s/c),p=e.getPageNumber(e.state.currentOffset,c,s);return i.createElement(r.PageNumberView,{maxPageButtons:t.maxPageButtons,onClickAction:e.updatePagination,pageCount:l,selectedPageNumber:p,key:n})}if("pageSize"===o.buttonType){var d=e.props,g=(s=d.listViewSize,c=d.pageSize,e.getPageNumber(e.state.currentOffset,c,s));return i.createElement(u.PageSizeSelect,{onChange:e.props.onChange,pageSize:e.props.pageSize,sizeOptions:e.props.pageSizeOptions,listViewSize:s,currentPage:g,key:n})}}))},t.prototype.createFirstButton=function(e,n){var r=this.state.currentOffset<=0;return i.createElement(o.PageButton,s(s({},e),{buttonType:"firstButton",isDisabled:r,onClickAction:this.firstPageClickAction,showIcon:t.getShowIcon(e),key:n}))},t.prototype.createPreviousButton=function(e,n){var r=this.state.currentOffset<=0;return i.createElement(o.PageButton,s(s({},e),{buttonType:"previousButton",isDisabled:r,onClickAction:this.previousPageClickAction,showIcon:t.getShowIcon(e),key:n}))},t.prototype.createNextButton=function(e,n){var r=this.state.currentOffset+this.props.pageSize>=this.props.listViewSize;return i.createElement(o.PageButton,s(s({},e),{buttonType:"nextButton",isDisabled:r,onClickAction:this.nextPageClickAction,showIcon:t.getShowIcon(e),key:n}))},t.prototype.createLastButton=function(e,n){var r=this.state.currentOffset+this.props.pageSize>=this.props.listViewSize;return i.createElement(o.PageButton,s(s({},e),{buttonType:"lastButton",isDisabled:r,onClickAction:this.lastPageClickAction,showIcon:t.getShowIcon(e),key:n}))},t.prototype.createMessage=function(e,t){return e=this.getMessageStatus(e),i.createElement("span",{className:"paging-status",key:t},e)},t.prototype.getMessageStatus=function(e){var t=this.state.currentOffset,i=this.props,n=i.listViewSize,o=i.pageSize,r=t+1,a=0;if(0===n?r=0:a=n<o||t+o>n?n:t+o,e){var s=o&&0!==o?Math.ceil(n/o):n,u=Math.ceil(r/o);return e.replace("{firstItem}",r.toString()).replace("{lastItem}",a.toString()).replace("{totalItems}",n.toString()).replace("{currentPageNumber}",u.toString()).replace("{totalPages}",s.toString()).replace("{pageSize}",o.toString())}return this.props.getMessageStatus(r,a,n)},t.getShowIcon=function(e){return e?e.showIcon:"default"},t}(i.Component);t.Pagination=l}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;n=[i,t,i(0),i(1),i(4)],void 0===(o=function(e,t,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageButton=function(e){var t="",r="",a="",s={disabled:e.isDisabled},u=e.isDisabled?function(){}:e.onClickAction;return"firstButton"===e.buttonType?(r="btn mx-button mx-name-paging-first",t="glyphicon glyphicon-step-backward",a=o.mxTranslation("mxui.widget.Grid.a11y","first_page",[],!0,"Go to first page")):"previousButton"===e.buttonType?(r="btn mx-button mx-name-paging-previous",t="glyphicon glyphicon-backward",a=o.mxTranslation("mxui.widget.Grid.a11y","previous_page",[],!0,"Go to previous page")):"nextButton"===e.buttonType?(r="btn mx-button mx-name-paging-next",t="glyphicon glyphicon-forward",a=o.mxTranslation("mxui.widget.Grid.a11y","next_page",[],!0,"Go to next page")):"lastButton"===e.buttonType&&(r="btn mx-button mx-name-paging-last",t="glyphicon glyphicon-step-forward",a=o.mxTranslation("mxui.widget.Grid.a11y","last_page",[],!0,"Go to last page")),"default"===e.showIcon?e.buttonCaption?"firstButton"===e.buttonType||"previousButton"===e.buttonType?i.createElement("button",{className:n(r,s),disabled:e.isDisabled,onClick:u,title:e.buttonCaption},i.createElement("span",{className:t}),i.createElement("span",{className:e.buttonType},e.buttonCaption)):i.createElement("button",{className:n(r,s),disabled:e.isDisabled,onClick:u,title:e.buttonCaption},i.createElement("span",{className:e.buttonType},e.buttonCaption),i.createElement("span",{className:t})):i.createElement("button",{className:n(r,s),disabled:e.isDisabled,onClick:u,title:a},i.createElement("span",{className:t})):"none"===e.showIcon&&e.buttonCaption?i.createElement("button",{className:n(r,s),disabled:e.isDisabled,onClick:u,title:e.buttonCaption},i.createElement("span",{className:n(e.buttonType,"")},e.buttonCaption)):null},t.PageButton.displayName="PageButton"}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;n=[i,t,i(0),i(28),i(29)],void 0===(o=function(e,t,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumberView=function(e){var t=[],r=e.selectedPageNumber,a=e.onClickAction;if(e.pageCount<=e.maxPageButtons)for(var s=1;s<=e.pageCount;s++)t.push(i.createElement(o.PageNumberButton,{pageNumber:s,selectedPageNumber:r,onClickAction:a.bind(null,s),key:"page"+s}));else{var u=Math.ceil(e.maxPageButtons/2),c=Math.floor(e.maxPageButtons/2),l=e.selectedPageNumber>u,p=e.selectedPageNumber<e.pageCount-c,d=1,g=1;if(!l&&p)d=2,g=e.maxPageButtons-2;else if(l&&p){var f=Math.floor((e.maxPageButtons-4)/2),h=Math.ceil((e.maxPageButtons-4)/2)-1;d=e.selectedPageNumber-f,g=e.selectedPageNumber+h}else l&&!p&&(d=e.pageCount-(e.maxPageButtons-3),g=e.pageCount-1);t.push(i.createElement(o.PageNumberButton,{pageNumber:1,selectedPageNumber:r,onClickAction:a.bind(null,1),key:"first"})),l&&t.push(i.createElement(n.BreakView,{key:"leftDivider"}));for(s=d;s<=g;s++)t.push(i.createElement(o.PageNumberButton,{pageNumber:s,selectedPageNumber:r,onClickAction:a.bind(null,s),key:"page"+s}));p&&t.push(i.createElement(n.BreakView,{key:"rightDivider"})),t.push(i.createElement(o.PageNumberButton,{pageNumber:e.pageCount,selectedPageNumber:r,onClickAction:a.bind(null,e.pageCount),key:"last"}))}return i.createElement("ul",{},t)}}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;n=[i,t,i(0),i(1)],void 0===(o=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakView=function(){return i.createElement("li",{className:n.default("break-view"),"aria-hidden":!0},"...")},t.BreakView.displayName="BreakView"}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;n=[i,t,i(0),i(1)],void 0===(o=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumberButton=function(e){var t=e.onClickAction,r=e.pageNumber,a=e.selectedPageNumber,s=a===r?"Current page, page "+r:"Go to page "+r;return i.createElement("li",{className:n.default(a===r?"active":""),role:"button",onClick:t,onKeyDown:o.bind(null,t),tabindex:0,"aria-label":s},r)};var o=function(e,t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e())};t.PageNumberButton.displayName="PageNumberButton"}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};n=[i,t,i(0)],void 0===(o=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateOffSet=function(e,t,i){var n=Math.ceil(e/t);return{newOffSet:((i>=1&&i<=n?i:1)-1)*t,newPageSize:t}};var n=function(e){function n(i){var o=e.call(this,i)||this;return o.pageSizeSelectDom=null,o.handleOnChange=function(e){var i=o.props.listViewSize,n=o.filters.find((function(t){return t.selectedValue===e.currentTarget.value})).size;o.setState({selectedValue:e.currentTarget.value,pageSize:n});var r=t.calculateOffSet(i,n,o.props.currentPage);o.props.onChange(r.newOffSet,r.newPageSize)},o.state={selectedValue:n.getSelectedValue(i.sizeOptions,i.pageSize),pageSize:i.pageSize},o.filters=o.props.sizeOptions.map((function(e,t){return s(s({},e),{selectedValue:""+t})})),o}return a(n,e),n.prototype.render=function(){return i.createElement("div",{className:"page-size"},this.renderDropDown())},n.prototype.componentWillReceiveProps=function(e){if(this.defaultPageSize||(this.defaultPageSize=e.pageSize),e.pageSize!==this.props.pageSize){var t=n.getSelectedValue(e.sizeOptions,e.pageSize);t!==this.state.selectedValue&&this.setState({selectedValue:t})}},n.prototype.componentDidUpdate=function(e,t){"-1"===this.state.selectedValue&&this.pageSizeSelectDom&&(this.pageSizeSelectDom.selectedIndex=-1)},n.prototype.renderDropDown=function(){var e=this;return i.createElement("select",{className:"form-control",onChange:this.handleOnChange,value:this.state.selectedValue,ref:function(t){return e.pageSizeSelectDom=t}},n.createOptions(this.filters))},n.getSelectedValue=function(e,t){return""+e.indexOf(e.find((function(e){return e.size===t})))},n.createOptions=function(e){return e.map((function(e,t){return i.createElement("option",{className:"",key:t,label:e.caption,value:e.selectedValue},e.caption)}))},n}(i.Component);t.PageSizeSelect=n}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;n=[i,t,i(0)],void 0===(o=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.validateProps=function(e){var t=[];return"custom"===e.pagingStyle&&(e.items.length<1&&t.push("custom style should have at least one item"),e.items.forEach((function(e,i){var n=i+1;"pageNumberButtons"===e.item&&(!e.maxPageButtons||e.maxPageButtons<7)&&t.push("Custom item "+n+" Number of page buttons should 7 or larger"),"text"!==e.item||e.text||t.push("Custom item "+n+" text requires a 'Text with placeholder'"),("firstButton"===e.item||"lastButton"===e.item||"nextButton"===e.item||"previousButton"===e.item)&&"none"===e.showIcon&&!e.buttonCaption&&t.push("Custom item "+n+" Custom button requires an caption or icon")})),e.pageSizeOptions.forEach((function(e,i){e.size<1&&t.push("Custom 'Page size' at item "+(i+1)+" should be larger than 0")}))),t.length?i.createElement("div",{},"Configuration error in widget:",t.map((function(e,t){return i.createElement("p",{key:t},e)}))):""},e}();t.Validate=n}.apply(t,n))||(e.exports=o)},,,function(e,t){},,,,,,,,,,,,,,function(e,t){}])}));