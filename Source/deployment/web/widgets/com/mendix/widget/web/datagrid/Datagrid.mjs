import{createElement as t,useEffect as e,createContext as n,useState as r,useCallback as o,useRef as i,useLayoutEffect as u,useMemo as c}from"react";import{and as a}from"mendix/filters/builders";import{createPortal as l}from"react-dom";function f(){return t("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},t("path",{fill:"currentColor",d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"}))}var s,p={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/s=p,function(){var t={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var u=e.apply(null,o);u&&n.push(u)}}else if("object"===i){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var c in o)t.call(o,c)&&o[c]&&n.push(c)}}}return n.join(" ")}s.exports?(e.default=e,s.exports=e):window.classNames=e}();var y=p.exports;const d="com.mendix.widgets.web.filterable.filterContext";function b(){const t=window[d];if(t)return{FilterContext:t};const e=n(void 0);return window[d]=e,{FilterContext:e}}function h(t,n){const[i,u]=r(),c=o((()=>{u((e=>{const n=null==t?void 0:t.getBoundingClientRect();return o=n,(r=e)&&o&&r.height===o.height&&r.width===o.width&&r.bottom===o.bottom&&r.top===o.top&&r.left===o.left&&r.right===o.right?e:n;var r,o}))}),[t]);var a;return e((()=>a?function(t){let e;const n=()=>{e=window.requestAnimationFrame((()=>{t(),n()}))},r=()=>window.cancelAnimationFrame(e);return n(),r}(a):void 0),[a=n?c:void 0]),i}function v(e){const{setPage:n,hasMoreItems:c,isInfinite:a}=e,[l,f]=r(0),s=i(null),p=o((t=>{Math.floor(t.target.scrollHeight-t.target.scrollTop)===Math.floor(t.target.clientHeight)&&c&&n&&n((t=>t+1))}),[c,n]),d=o((()=>{a&&c&&l<=0&&s.current&&f(s.current.clientHeight-30)}),[a,c,l]);return u((()=>{setTimeout((()=>d()),100)}),[d]),t("div",{ref:s,className:y(e.className,a?"infinite-loading":""),onScroll:a?p:void 0,role:e.role,style:a&&l>0?Object.assign(Object.assign({},e.style),{maxHeight:l}):e.style},e.children)}function m(e){var n,r,o,i,u,c,a;const l=void 0!==e.numberOfItems?Math.ceil(e.numberOfItems/e.pageSize):void 0,f=void 0!==l?l-1:0,s=void 0!==l,p=e.page*e.pageSize+1,y=e.canNextPage||!e.numberOfItems?(e.page+1)*e.pageSize:e.numberOfItems,d=t=>{e.setPaginationIndex&&e.setPaginationIndex(t)};if(0===e.numberOfItems)return null;const b="".concat(p," to ").concat(y," ").concat(s?"of ".concat(null!==(n=e.numberOfItems)&&void 0!==n?n:(null!=l?l:1)*e.pageSize):"");return t("div",{"aria-label":null!==(r=e.labelPagination)&&void 0!==r?r:"Pagination",className:"pagination-bar",role:"pagination"},t("button",Object.assign({className:"btn pagination-button",disabled:0===e.page},w((()=>{e.gotoPage(0),d(0)})),{"aria-label":null!==(o=e.labelFirstPage)&&void 0!==o?o:"Go to first page"}),t("span",{"aria-hidden":!0,className:"glyphicon glyphicon-step-backward"})),t("button",Object.assign({className:"btn pagination-button",disabled:!e.canPreviousPage},w((()=>{e.previousPage(),d(e.page-1)})),{"aria-label":null!==(i=e.labelPreviousPage)&&void 0!==i?i:"Go to previous page"}),t("span",{"aria-hidden":!0,className:"glyphicon glyphicon-backward"})),t("span",{className:"sr-only sr-only-focusable"},null!==(u=e.labelPagingStatus)&&void 0!==u?u:"Currently showing"," ",b),t("div",{"aria-hidden":!0,className:"paging-status"},b),t("button",Object.assign({"aria-label":null!==(c=e.labelNextPage)&&void 0!==c?c:"Go to next page",className:"btn pagination-button",disabled:!e.canNextPage},w((()=>{e.nextPage(),d(e.page+1)}))),t("span",{"aria-hidden":!0,className:"glyphicon glyphicon-forward"})),s&&t("button",Object.assign({"aria-label":null!==(a=e.labelLastPage)&&void 0!==a?a:"Go to last page",className:"btn pagination-button",disabled:e.page===f},w((()=>{e.gotoPage(f),d(f)}))),t("span",{"aria-hidden":!0,className:"glyphicon glyphicon-step-forward"})))}function w(t){return{onClick:t,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),t())}}}function g(n){let{id:r,value:o,onChange:u}=n;const c=i(null);return e((()=>{c.current&&("all"===o||"none"===o?c.current.indeterminate=!1:"some"===o&&(c.current.indeterminate=!0))}),[o]),t("input",{id:r,type:"checkbox",className:"three-state-checkbox",ref:c,checked:"none"!==o,onChange:u})}const O=t=>{const e=t.current,[n,o]=r(!0);return u((()=>{const t=null==e?void 0:e.getBoundingClientRect(),n=!t||t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth);o(n)}),[e]),n};function S(n){var u;const{setHiddenColumns:a}=n,[s,p]=r(!1),y=i(null),d=i(null),b=h(d.current,s),v=1===n.columns.length-n.hiddenColumns.length;var m,w;e((()=>{const t=t=>{if(Array.isArray(m)){if(m.some((e=>!e.current||e.current.contains(t.target))))return}else if(!m.current||m.current.contains(t.target))return;w()};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[m=[d,y],w=()=>p(!1)]);const g=null!==(u=n.label)&&void 0!==u?u:"Column selector",S=O(y),_=o(((t,e)=>{t&&v||a((n=>t?[...n,e]:n.filter((t=>t!==e))))}),[a,v]),j=c((()=>n.columns.findIndex((t=>t.canHide))),[n.columns]),T=c((()=>n.columns.map((t=>t.canHide)).lastIndexOf(!0)),[n.columns]),x=l(t("ul",{ref:y,id:"".concat(n.id,"-column-selectors"),className:"column-selectors ".concat(S?"":"overflow"),"data-focusindex":0,role:"menu",style:{position:"fixed",top:null==b?void 0:b.bottom,right:void 0!==(null==b?void 0:b.right)?document.body.clientWidth-b.right:void 0}},n.columns.map(((e,r)=>{const o=!n.hiddenColumns.includes(e.id),i=o&&v;return e.canHide?t("li",{key:r,onClick:t=>{t.preventDefault(),t.stopPropagation(),_(o,e.id)},onKeyDown:t=>{var n;"Enter"===t.key||" "===t.key?(t.preventDefault(),t.stopPropagation(),_(o,e.id)):("Tab"===t.key&&(r===T||t.shiftKey&&r===j)||"Escape"===t.key)&&(t.preventDefault(),p(!1),null===(n=d.current)||void 0===n||n.focus())},role:"menuitem",tabIndex:0},t("input",{checked:o,disabled:i,id:"".concat(n.id,"_checkbox_toggle_").concat(r),style:{pointerEvents:"none"},type:"checkbox",tabIndex:-1,onChange:P}),t("label",{htmlFor:"".concat(n.id,"_checkbox_toggle_").concat(r),style:{pointerEvents:"none"}},e.header)):null}))),document.body),k=o((()=>{p((t=>!t)),setTimeout((()=>{var t,e;null===(e=null===(t=y.current)||void 0===t?void 0:t.querySelector("li"))||void 0===e||e.focus()}),10)}),[]);return t("div",{"aria-label":g,className:"th column-selector",role:"columnheader",title:g},t("div",{className:"column-selector-content"},t("button",{"aria-label":g,ref:d,className:"btn btn-default column-selector-button",onClick:k,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),k())},"aria-haspopup":!0,"aria-expanded":s,"aria-controls":"".concat(n.id,"-column-selectors")},t(f,null))),s&&x)}function P(){}function _(){return t("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-down",className:"svg-inline--fa fa-long-arrow-alt-down fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},t("path",{fill:"currentColor",d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"}))}function j(){return t("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-up",className:"svg-inline--fa fa-long-arrow-alt-up fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},t("path",{fill:"currentColor",d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"}))}function T(){return t("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrows-alt-v",className:"svg-inline--fa fa-arrows-alt-v fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},t("path",{fill:"currentColor",d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"}))}function x(e){var n;const r=e.sortable&&e.column.canSort,i=e.draggable&&null!==(n=e.column.canDrag)&&void 0!==n&&n,u=function(t,e,n,r,i){const u=o((t=>{i(!0);const{id:e}=t.target;t.dataTransfer.setData("colDestination",e)}),[i]),c=o((t=>{t.preventDefault()}),[]),a=o((t=>{const{id:e}=t.target;e!==t.dataTransfer.getData("colDestination")&&r(e)}),[r]),l=o((()=>{i(!1),r("")}),[r,i]),f=o((t=>{l();const{id:r}=t.target,o=t.dataTransfer.getData("colDestination"),i=e.findIndex((t=>t.id===r)),u=e.findIndex((t=>t.id===o));if(i!==u){const t=[...e.map((t=>t.id))];t.splice(u,1),t.splice(i,0,o),n(t)}}),[l,n,e]);return t?{draggable:!0,onDragStart:u,onDragOver:c,onDrop:f,onDragEnter:a,onDragEnd:l}:{}}(i,e.visibleColumns,e.setColumnOrder,e.setDragOver,e.setIsDragging),[c]=e.sortBy,a=c&&c.id===e.column.id,l=a&&c.desc,f=r?t(a?l?_:j:T,null):null,s=e.column.header.trim(),p=()=>{a?a&&!l?e.setSortBy([{id:e.column.id,desc:!0}]):e.setSortBy([]):e.setSortBy([{id:e.column.id,desc:!1}])},d={onClick:p,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),p())},role:"button",tabIndex:0};return t("div",{"aria-label":s,"aria-sort":r?a?l?"descending":"ascending":"none":void 0,className:y("th",{"hidden-column-preview":e.preview&&e.hidable&&e.column.hidden}),role:"columnheader",style:e.sortable&&e.column.canSort?void 0:{cursor:"unset"},title:s},t("div",{className:y("column-container",i&&e.column.id===e.dragOver?"dragging":""),id:e.column.id,...u},t("div",{className:y("column-header",r?"clickable":"",e.className),style:{pointerEvents:e.isDragging?"none":void 0},...r?d:void 0},t("span",null,s.length>0?s:" "),f),e.filterable&&e.column.customFilter?e.column.customFilter:null),e.resizable&&e.column.canResize&&e.resizer)}const k=t=>{t&&t.canExecute&&!t.isExecuting&&t.execute()},R=t=>t&&"available"===t.status&&t.value;var C;function E(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function D(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function B(t){D(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===N(t)&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}!function(t){t.Number="number",t.DateTime="datetime"}(C||(C={}));var U={};function I(){return U}var H=6e4,M=36e5,A=1e3;function L(t){D(1,arguments);var e=B(t),n=e.getUTCDay(),r=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function q(t){D(1,arguments);var e=function(t){D(1,arguments);var e=B(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=L(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var u=L(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}(t),n=new Date(0);return n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0),L(n)}var Y=6048e5;function F(t,e){var n,r,o,i,u,c,a,l;D(1,arguments);var f=I(),s=E(null!==(n=null!==(r=null!==(o=null!==(i=null==e?void 0:e.weekStartsOn)&&void 0!==i?i:null==e||null===(u=e.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==o?o:f.weekStartsOn)&&void 0!==r?r:null===(a=f.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=B(t),y=p.getUTCDay(),d=(y<s?7:0)+y-s;return p.setUTCDate(p.getUTCDate()-d),p.setUTCHours(0,0,0,0),p}function z(t,e){var n,r,o,i,u,c,a,l;D(1,arguments);var f=B(t),s=f.getUTCFullYear(),p=I(),y=E(null!==(n=null!==(r=null!==(o=null!==(i=null==e?void 0:e.firstWeekContainsDate)&&void 0!==i?i:null==e||null===(u=e.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:p.firstWeekContainsDate)&&void 0!==r?r:null===(a=p.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setUTCFullYear(s+1,0,y),d.setUTCHours(0,0,0,0);var b=F(d,e),h=new Date(0);h.setUTCFullYear(s,0,y),h.setUTCHours(0,0,0,0);var v=F(h,e);return f.getTime()>=b.getTime()?s+1:f.getTime()>=v.getTime()?s:s-1}var V=6048e5;function Q(t,e){D(1,arguments);var n=B(t),r=F(n,e).getTime()-function(t,e){var n,r,o,i,u,c,a,l;D(1,arguments);var f=I(),s=E(null!==(n=null!==(r=null!==(o=null!==(i=null==e?void 0:e.firstWeekContainsDate)&&void 0!==i?i:null==e||null===(u=e.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:f.firstWeekContainsDate)&&void 0!==r?r:null===(a=f.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1),p=z(t,e),y=new Date(0);return y.setUTCFullYear(p,0,s),y.setUTCHours(0,0,0,0),F(y,e)}(n,e).getTime();return Math.round(r/V)+1}function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function G(t,e){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);if(e){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),t}var tt=function(){function t(){var e,n,r;Z(this,t),r=0,(n="subPriority")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}return $(t,[{key:"validate",value:function(t,e){return!0}}]),t}(),et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(n,tt);var e=X(n);function n(t,r,o,i,u){var c;return Z(this,n),(c=e.call(this)).value=t,c.validateValue=r,c.setValue=o,c.priority=i,u&&(c.subPriority=u),c}return $(n,[{key:"validate",value:function(t,e){return this.validateValue(t,this.value,e)}},{key:"set",value:function(t,e,n){return this.setValue(t,e,this.value,n)}}]),n}();function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"run",value:function(t,e,n,r){var o=this.parse(t,e,n,r);return o?{setter:new et(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t,e,n){return!0}}])&&nt(e.prototype,n),r&&nt(e,r),t}();function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e){return ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ut(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lt(t);if(e){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;return at(t)}(this,n)}}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(i,rt);var e,n,r,o=ct(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ft(at(t=o.call.apply(o,[this].concat(n))),"priority",140),ft(at(t),"incompatibleTokens",["R","u","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}},{key:"set",value:function(t,e,n){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t}}])&&it(e.prototype,n),r&&it(e,r),i}(),pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},yt=/^([+-])(\d{2})(\d{2})?|Z/,dt=/^([+-])(\d{2})(\d{2})|Z/,bt=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ht=/^([+-])(\d{2}):(\d{2})|Z/,vt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function mt(t,e){return t?{value:e(t.value),rest:t.rest}:t}function wt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function gt(t,e){var n=e.match(t);if(!n)return null;if("Z"===n[0])return{value:0,rest:e.slice(1)};var r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,u=n[5]?parseInt(n[5],10):0;return{value:r*(o*M+i*H+u*A),rest:e.slice(n[0].length)}}function Ot(t){return wt(pt.anyDigitsSigned,t)}function St(t,e){switch(t){case 1:return wt(pt.singleDigit,e);case 2:return wt(pt.twoDigits,e);case 3:return wt(pt.threeDigits,e);case 4:return wt(pt.fourDigits,e);default:return wt(new RegExp("^\\d{1,"+t+"}"),e)}}function Pt(t,e){switch(t){case 1:return wt(pt.singleDigitSigned,e);case 2:return wt(pt.twoDigitsSigned,e);case 3:return wt(pt.threeDigitsSigned,e);case 4:return wt(pt.fourDigitsSigned,e);default:return wt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function _t(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function jt(t,e){var n,r=e>0,o=r?e:1-e;if(o<=50)n=t||100;else{var i=o+50;n=t+100*Math.floor(i/100)-(t>=i%100?100:0)}return r?n:1-n}function Tt(t){return t%400==0||t%4==0&&t%100!=0}function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e){return Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rt(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dt(t);if(e){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;return Et(t)}(this,n)}}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(i,rt);var e,n,r,o=Ct(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Nt(Et(t=o.call.apply(o,[this].concat(n))),"priority",130),Nt(Et(t),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){var r=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return mt(St(4,t),r);case"yo":return mt(n.ordinalNumber(t,{unit:"year"}),r);default:return mt(St(e.length,t),r)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,n){var r=t.getUTCFullYear();if(n.isTwoDigitYear){var o=jt(n.year,r);return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t}var i="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}}])&&kt(e.prototype,n),r&&kt(e,r),i}();function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ht(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;return At(t)}(this,n)}}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}function qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(i,rt);var e,n,r,o=Mt(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return qt(At(t=o.call.apply(o,[this].concat(n))),"priority",130),qt(At(t),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){var r=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return mt(St(4,t),r);case"Yo":return mt(n.ordinalNumber(t,{unit:"year"}),r);default:return mt(St(e.length,t),r)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,n,r){var o=z(t,r);if(n.isTwoDigitYear){var i=jt(n.year,o);return t.setUTCFullYear(i,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),F(t,r)}var u="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(u,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),F(t,r)}}])&&It(e.prototype,n),r&&It(e,r),i}();function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e){return Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vt(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ft(e)||"function"==typeof e))return e;return Wt(t)}(this,n)}}function Wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(i,rt);var e,n,r,o=Qt(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Xt(Wt(t=o.call.apply(o,[this].concat(n))),"priority",130),Xt(Wt(t),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e){return Pt("R"===e?4:e.length,t)}},{key:"set",value:function(t,e,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),L(r)}}])&&zt(e.prototype,n),r&&zt(e,r),i}();function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t,e){return $t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$t(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ne(t);if(e){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Zt(e)||"function"==typeof e))return e;return ee(t)}(this,n)}}function ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ne(t){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ne(t)}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(i,rt);var e,n,r,o=te(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return re(ee(t=o.call.apply(o,[this].concat(n))),"priority",130),re(ee(t),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e){return Pt("u"===e?4:e.length,t)}},{key:"set",value:function(t,e,n){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t}}])&&Jt(e.prototype,n),r&&Jt(e,r),i}();function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ce(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fe(t);if(e){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;return le(t)}(this,n)}}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(i,rt);var e,n,r,o=ae(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return se(le(t=o.call.apply(o,[this].concat(n))),"priority",120),se(le(t),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"Q":case"QQ":return St(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,n){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t}}])&&ue(e.prototype,n),r&&ue(e,r),i}();function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},be(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);if(e){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ye(e)||"function"==typeof e))return e;return ve(t)}(this,n)}}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(i,rt);var e,n,r,o=he(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return we(ve(t=o.call.apply(o,[this].concat(n))),"priority",120),we(ve(t),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"q":case"qq":return St(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,n){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t}}])&&de(e.prototype,n),r&&de(e,r),i}();function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e){return Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pe(t,e)}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Te(t);if(e){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;return je(t)}(this,n)}}function je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Te(t)}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(i,rt);var e,n,r,o=_e(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xe(je(t=o.call.apply(o,[this].concat(n))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),xe(je(t),"priority",110),t}return e=i,(n=[{key:"parse",value:function(t,e,n){var r=function(t){return t-1};switch(e){case"M":return mt(wt(pt.month,t),r);case"MM":return mt(St(2,t),r);case"Mo":return mt(n.ordinalNumber(t,{unit:"month"}),r);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t}}])&&Se(e.prototype,n),r&&Se(e,r),i}();function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e){return Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ee(t,e)}function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Be(t);if(e){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Re(e)||"function"==typeof e))return e;return Ne(t)}(this,n)}}function Ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Be(t)}function Ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(i,rt);var e,n,r,o=De(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ue(Ne(t=o.call.apply(o,[this].concat(n))),"priority",110),Ue(Ne(t),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){var r=function(t){return t-1};switch(e){case"L":return mt(wt(pt.month,t),r);case"LL":return mt(St(2,t),r);case"Lo":return mt(n.ordinalNumber(t,{unit:"month"}),r);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t}}])&&Ce(e.prototype,n),r&&Ce(e,r),i}();function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,e){return Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ae(t,e)}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ye(t);if(e){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;return qe(t)}(this,n)}}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(i,rt);var e,n,r,o=Le(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Fe(qe(t=o.call.apply(o,[this].concat(n))),"priority",100),Fe(qe(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),t}return e=i,n=[{key:"parse",value:function(t,e,n){switch(e){case"w":return wt(pt.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,n,r){return F(function(t,e,n){D(2,arguments);var r=B(t),o=E(e),i=Q(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}(t,n,r),r)}}],n&&Me(e.prototype,n),r&&Me(e,r),i}();function Ve(t,e){D(2,arguments);var n=B(t),r=E(e),o=function(t){D(1,arguments);var e=B(t),n=L(e).getTime()-q(e).getTime();return Math.round(n/Y)+1}(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e){return Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ge(t,e)}function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ze(t);if(e){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Qe(e)||"function"==typeof e))return e;return Ke(t)}(this,n)}}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}function Je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(i,rt);var e,n,r,o=Xe(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Je(Ke(t=o.call.apply(o,[this].concat(n))),"priority",100),Je(Ke(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"I":return wt(pt.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,n){return L(Ve(t,n))}}])&&We(e.prototype,n),r&&We(e,r),i}();function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e){return nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nn(t,e)}function rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=un(t);if(e){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;return on(t)}(this,n)}}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var an=[31,28,31,30,31,30,31,31,30,31,30,31],ln=[31,29,31,30,31,30,31,31,30,31,30,31],fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(i,rt);var e,n,r,o=rn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return cn(on(t=o.call.apply(o,[this].concat(n))),"priority",90),cn(on(t),"subPriority",1),cn(on(t),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"d":return wt(pt.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){var n=Tt(t.getUTCFullYear()),r=t.getUTCMonth();return n?e>=1&&e<=ln[r]:e>=1&&e<=an[r]}},{key:"set",value:function(t,e,n){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t}}])&&en(e.prototype,n),r&&en(e,r),i}();function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e){return yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yn(t,e)}function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===sn(e)||"function"==typeof e))return e;return bn(t)}(this,n)}}function bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(t)}function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yn(t,e)}(i,rt);var e,n,r,o=dn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return vn(bn(t=o.call.apply(o,[this].concat(n))),"priority",90),vn(bn(t),"subpriority",1),vn(bn(t),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"D":case"DD":return wt(pt.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return Tt(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365}},{key:"set",value:function(t,e,n){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t}}])&&pn(e.prototype,n),r&&pn(e,r),i}();function wn(t,e,n){var r,o,i,u,c,a,l,f;D(2,arguments);var s=I(),p=E(null!==(r=null!==(o=null!==(i=null!==(u=null==n?void 0:n.weekStartsOn)&&void 0!==u?u:null==n||null===(c=n.locale)||void 0===c||null===(a=c.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:s.weekStartsOn)&&void 0!==o?o:null===(l=s.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==r?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=B(t),d=E(e),b=((d%7+7)%7<p?7:0)+d-y.getUTCDay();return y.setUTCDate(y.getUTCDate()+b),y}function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t,e){return Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sn(t,e)}function Pn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jn(t);if(e){var o=jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;return _n(t)}(this,n)}}function _n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jn(t){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(t)}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(i,rt);var e,n,r,o=Pn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Tn(_n(t=o.call.apply(o,[this].concat(n))),"priority",90),Tn(_n(t),"incompatibleTokens",["D","i","e","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,r){return(t=wn(t,n,r)).setUTCHours(0,0,0,0),t}}])&&On(e.prototype,n),r&&On(e,r),i}();function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cn(t,e){return Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cn(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===kn(e)||"function"==typeof e))return e;return Dn(t)}(this,n)}}function Dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cn(t,e)}(i,rt);var e,n,r,o=En(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Bn(Dn(t=o.call.apply(o,[this].concat(n))),"priority",90),Bn(Dn(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n,r){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return mt(St(e.length,t),o);case"eo":return mt(n.ordinalNumber(t,{unit:"day"}),o);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,r){return(t=wn(t,n,r)).setUTCHours(0,0,0,0),t}}])&&Rn(e.prototype,n),r&&Rn(e,r),i}();function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function Hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e){return Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mn(t,e)}function An(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qn(t);if(e){var o=qn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;return Ln(t)}(this,n)}}function Ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qn(t){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qn(t)}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(i,rt);var e,n,r,o=An(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Yn(Ln(t=o.call.apply(o,[this].concat(n))),"priority",90),Yn(Ln(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n,r){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return mt(St(e.length,t),o);case"co":return mt(n.ordinalNumber(t,{unit:"day"}),o);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,r){return(t=wn(t,n,r)).setUTCHours(0,0,0,0),t}}])&&Hn(e.prototype,n),r&&Hn(e,r),i}();function zn(t){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(t)}function Vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qn(t,e){return Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qn(t,e)}function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xn(t);if(e){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===zn(e)||"function"==typeof e))return e;return Gn(t)}(this,n)}}function Gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xn(t)}function Kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(i,rt);var e,n,r,o=Wn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Kn(Gn(t=o.call.apply(o,[this].concat(n))),"priority",90),Kn(Gn(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),t}return e=i,n=[{key:"parse",value:function(t,e,n){var r=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return St(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return mt(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return mt(n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return mt(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);default:return mt(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(t,e){return e>=1&&e<=7}},{key:"set",value:function(t,e,n){return t=function(t,e){D(2,arguments);var n=E(e);n%7==0&&(n-=7);var r=B(t),o=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+o),r}(t,n),t.setUTCHours(0,0,0,0),t}}],n&&Vn(e.prototype,n),r&&Vn(e,r),i}();function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tr(t,e){return tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tr(t,e)}function er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rr(t);if(e){var o=rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;return nr(t)}(this,n)}}function nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rr(t)}function or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tr(t,e)}(i,rt);var e,n,r,o=er(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return or(nr(t=o.call.apply(o,[this].concat(n))),"priority",80),or(nr(t),"incompatibleTokens",["b","B","H","k","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setUTCHours(_t(n),0,0,0),t}}])&&$n(e.prototype,n),r&&$n(e,r),i}();function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ar(t,e){return ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ar(t,e)}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sr(t);if(e){var o=sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;return fr(t)}(this,n)}}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}function pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ar(t,e)}(i,rt);var e,n,r,o=lr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return pr(fr(t=o.call.apply(o,[this].concat(n))),"priority",80),pr(fr(t),"incompatibleTokens",["a","B","H","k","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setUTCHours(_t(n),0,0,0),t}}])&&cr(e.prototype,n),r&&cr(e,r),i}();function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e){return hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hr(t,e)}function vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wr(t);if(e){var o=wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;return mr(t)}(this,n)}}function mr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}function gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hr(t,e)}(i,rt);var e,n,r,o=vr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return gr(mr(t=o.call.apply(o,[this].concat(n))),"priority",80),gr(mr(t),"incompatibleTokens",["a","b","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setUTCHours(_t(n),0,0,0),t}}])&&br(e.prototype,n),r&&br(e,r),i}();function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e){return _r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_r(t,e)}function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xr(t);if(e){var o=xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Sr(e)||"function"==typeof e))return e;return Tr(t)}(this,n)}}function Tr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xr(t)}function kr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(i,rt);var e,n,r,o=jr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return kr(Tr(t=o.call.apply(o,[this].concat(n))),"priority",70),kr(Tr(t),"incompatibleTokens",["H","K","k","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"h":return wt(pt.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=12}},{key:"set",value:function(t,e,n){var r=t.getUTCHours()>=12;return r&&n<12?t.setUTCHours(n+12,0,0,0):r||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t}}])&&Pr(e.prototype,n),r&&Pr(e,r),i}();function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dr(t,e){return Dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dr(t,e)}function Nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ur(t);if(e){var o=Ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Cr(e)||"function"==typeof e))return e;return Br(t)}(this,n)}}function Br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dr(t,e)}(i,rt);var e,n,r,o=Nr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ir(Br(t=o.call.apply(o,[this].concat(n))),"priority",70),Ir(Br(t),"incompatibleTokens",["a","b","h","K","k","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"H":return wt(pt.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=23}},{key:"set",value:function(t,e,n){return t.setUTCHours(n,0,0,0),t}}])&&Er(e.prototype,n),r&&Er(e,r),i}();function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,e){return Lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lr(t,e)}function qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fr(t);if(e){var o=Fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Mr(e)||"function"==typeof e))return e;return Yr(t)}(this,n)}}function Yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fr(t){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fr(t)}function zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lr(t,e)}(i,rt);var e,n,r,o=qr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zr(Yr(t=o.call.apply(o,[this].concat(n))),"priority",70),zr(Yr(t),"incompatibleTokens",["h","H","k","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"K":return wt(pt.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.getUTCHours()>=12&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t}}])&&Ar(e.prototype,n),r&&Ar(e,r),i}();function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e){return Gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gr(t,e)}function Xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zr(t);if(e){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;return Kr(t)}(this,n)}}function Kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zr(t){return Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zr(t)}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gr(t,e)}(i,rt);var e,n,r,o=Xr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Jr(Kr(t=o.call.apply(o,[this].concat(n))),"priority",70),Jr(Kr(t),"incompatibleTokens",["a","b","h","H","K","t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"k":return wt(pt.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=24}},{key:"set",value:function(t,e,n){var r=n<=24?n%24:n;return t.setUTCHours(r,0,0,0),t}}])&&Wr(e.prototype,n),r&&Wr(e,r),i}();function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function no(t,e){return no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},no(t,e)}function ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=io(t);if(e){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;return oo(t)}(this,n)}}function oo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function io(t){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},io(t)}function uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(i,rt);var e,n,r,o=ro(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return uo(oo(t=o.call.apply(o,[this].concat(n))),"priority",60),uo(oo(t),"incompatibleTokens",["t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"m":return wt(pt.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,n){return t.setUTCMinutes(n,0,0),t}}])&&eo(e.prototype,n),r&&eo(e,r),i}();function ao(t){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(t)}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e){return fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fo(t,e)}function so(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yo(t);if(e){var o=yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ao(e)||"function"==typeof e))return e;return po(t)}(this,n)}}function po(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(i,rt);var e,n,r,o=so(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bo(po(t=o.call.apply(o,[this].concat(n))),"priority",50),bo(po(t),"incompatibleTokens",["t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e,n){switch(e){case"s":return wt(pt.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return St(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,n){return t.setUTCSeconds(n,0),t}}])&&lo(e.prototype,n),r&&lo(e,r),i}();function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wo(t,e){return wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wo(t,e)}function go(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=So(t);if(e){var o=So(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===vo(e)||"function"==typeof e))return e;return Oo(t)}(this,n)}}function Oo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function So(t){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},So(t)}function Po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(i,rt);var e,n,r,o=go(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Po(Oo(t=o.call.apply(o,[this].concat(n))),"priority",30),Po(Oo(t),"incompatibleTokens",["t","T"]),t}return e=i,(n=[{key:"parse",value:function(t,e){return mt(St(e.length,t),(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))}},{key:"set",value:function(t,e,n){return t.setUTCMilliseconds(n),t}}])&&mo(e.prototype,n),r&&mo(e,r),i}();function jo(t){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(t)}function To(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xo(t,e){return xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xo(t,e)}function ko(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Co(t);if(e){var o=Co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===jo(e)||"function"==typeof e))return e;return Ro(t)}(this,n)}}function Ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Co(t){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(t)}function Eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)}(i,rt);var e,n,r,o=ko(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Eo(Ro(t=o.call.apply(o,[this].concat(n))),"priority",10),Eo(Ro(t),"incompatibleTokens",["t","T","x"]),t}return e=i,(n=[{key:"parse",value:function(t,e){switch(e){case"X":return gt(yt,t);case"XX":return gt(dt,t);case"XXXX":return gt(bt,t);case"XXXXX":return gt(vt,t);default:return gt(ht,t)}}},{key:"set",value:function(t,e,n){return e.timestampIsSet?t:new Date(t.getTime()-n)}}])&&To(e.prototype,n),r&&To(e,r),i}();function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uo(t,e){return Uo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uo(t,e)}function Io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mo(t);if(e){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===No(e)||"function"==typeof e))return e;return Ho(t)}(this,n)}}function Ho(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mo(t){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(t)}function Ao(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uo(t,e)}(i,rt);var e,n,r,o=Io(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ao(Ho(t=o.call.apply(o,[this].concat(n))),"priority",10),Ao(Ho(t),"incompatibleTokens",["t","T","X"]),t}return e=i,(n=[{key:"parse",value:function(t,e){switch(e){case"x":return gt(yt,t);case"xx":return gt(dt,t);case"xxxx":return gt(bt,t);case"xxxxx":return gt(vt,t);default:return gt(ht,t)}}},{key:"set",value:function(t,e,n){return e.timestampIsSet?t:new Date(t.getTime()-n)}}])&&Bo(e.prototype,n),r&&Bo(e,r),i}();function qo(t){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(t)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fo(t,e){return Fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fo(t,e)}function zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qo(t);if(e){var o=Qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===qo(e)||"function"==typeof e))return e;return Vo(t)}(this,n)}}function Vo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qo(t){return Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qo(t)}function Wo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fo(t,e)}(i,rt);var e,n,r,o=zo(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Wo(Vo(t=o.call.apply(o,[this].concat(n))),"priority",40),Wo(Vo(t),"incompatibleTokens","*"),t}return e=i,(n=[{key:"parse",value:function(t){return Ot(t)}},{key:"set",value:function(t,e,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}])&&Yo(e.prototype,n),r&&Yo(e,r),i}();function Xo(t){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(t)}function Ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zo(t,e){return Zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zo(t,e)}function Jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ti(t);if(e){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xo(e)||"function"==typeof e))return e;return $o(t)}(this,n)}}function $o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ti(t)}function ei(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zo(t,e)}(i,rt);var e,n,r,o=Jo(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ei($o(t=o.call.apply(o,[this].concat(n))),"priority",20),ei($o(t),"incompatibleTokens","*"),t}return e=i,(n=[{key:"parse",value:function(t){return Ot(t)}},{key:"set",value:function(t,e,n){return[new Date(n),{timestampIsSet:!0}]}}])&&Ko(e.prototype,n),r&&Ko(e,r),i}();function ri(t){const n=i(t);return e((()=>{n.current=t})),o((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.current&&n.current.apply(void 0,e)}),[])}new st,new Bt,new Yt,new Kt,new oe,new pe,new ge,new ke,new Ie,new ze,new $e,new fn,new mn,new xn,new Un,new Fn,new Zn,new ir,new yr,new Or,new Rr,new Hr,new Vr,new $r,new co,new ho,new _o,new Do,new Lo,new Go,new ni;class oi{constructor(t){this.selectionValue=t,this.type="Single"}updateProps(t){this.selectionValue=t}isSelected(t){var e;return(null===(e=this.selectionValue.selection)||void 0===e?void 0:e.id)===t.id}add(t){this.selectionValue.setSelection(t)}remove(t){this.selectionValue.setSelection(void 0)}}class ii{constructor(t,e){this.selectionValue=t,this.selectableItems=e,this.type="Multi"}isSelected(t){return this.selectionValue.selection.some((e=>e.id===t.id))}updateProps(t,e){this.selectionValue=t,this.selectableItems=e}get selectionStatus(){return 0===this.selectionValue.selection.length?"none":this.selectionValue.selection.length===this.selectableItems.length?"all":"some"}add(t){this.isSelected(t)||this.selectionValue.setSelection(this.selectionValue.selection.concat(t))}remove(t){this.isSelected(t)&&this.selectionValue.setSelection(this.selectionValue.selection.filter((e=>e.id!==t.id)))}selectAll(){this.selectionValue.setSelection(this.selectableItems)}selectNone(){this.selectionValue.setSelection([])}}const ui="com.mendix.widgets.web.selectable.selectionContext";function ci(t,e){return JSON.stringify(t)===JSON.stringify(e)?t:e}function ai(n){let{minWidth:u=50,setColumnWidth:c,onResizeEnds:a}=n;const[l,f]=r(!1),[s,p]=r(0),[y,d]=r(0),b=i(null),h=o((t=>{const e=t.touches?t.touches[0].screenX:t.screenX;if(p(e),f(!0),b.current){const t=b.current.parentElement;d(t.clientWidth)}}),[]),v=o((()=>{l&&(f(!1),d(0),null==a||a())}),[a,l]),m=ri(c),w=o((t=>{if(!l)return;const e=t.touches?t.touches[0].screenX:t.screenX;if(y){let t=y-(s-e);t<u&&(t=u),m(t)}}),[l,y,s,u,m]);return e((()=>(document.addEventListener("mousemove",w),document.addEventListener("mouseup",v),document.addEventListener("touchmove",w),document.addEventListener("touchend",v),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",v)})),[w,v]),t("div",{"aria-hidden":!0,ref:b,className:"column-resizer",onMouseDown:h,onTouchStart:h},t("div",{className:"column-resizer-bar"}))}function li(n){var u;const{cellRenderer:a,className:l,columns:f,columnsDraggable:s,columnsFilterable:p,columnsHidable:d,columnsResizable:b,columnsSortable:h,data:w,emptyPlaceholderRenderer:O,filterRenderer:P,gridHeaderWidgets:_,gridHeaderTitle:j,hasMoreItems:T,headerWrapperRenderer:k,id:R,numberOfItems:C,page:E,pageSize:D,paging:N,pagingPosition:B,preview:U,rowClass:I,setPage:H,setSortParameters:M,settings:A,styles:L,selectionStatus:q,selectionMethod:Y,onSelect:F,isSelected:z}=n,V=!N,[Q,W]=r(!1),[G,X]=r(""),[K,Z]=r([]),[J,$]=r(null!==(u=f.map(((t,e)=>d&&"hidden"===t.hidable&&!U?e.toString():void 0)).filter(Boolean))&&void 0!==u?u:[]),[tt,et]=r([]),[nt,rt]=r(Object.fromEntries(f.map(((t,e)=>[e.toString(),void 0])))),ot="checkbox"===Y,it="rowClick"===Y,{updateSettings:ut}=function(t,n,r,u,a,l,f,s,p,y){const d=i(),b=i(!0),h=c((()=>n.map(((t,e)=>({header:t.header,id:e.toString(),hidable:t.hidable})))),[n]),v=ri(u),m=ri(l),w=ri(s),g=ri(y),O=d.current;e((()=>{if(t&&"loading"!==t.status&&t.value&&t.value!==O){const e=JSON.parse(t.value).map((t=>{var e;return{...t,columnId:(null===(e=h.find((e=>e.header===t.column)))||void 0===e?void 0:e.id)||""}})),n={columnOrder:e.sort(((t,e)=>t.order-e.order)).map((t=>t.columnId)),hiddenColumns:e.filter((t=>t.hidden)).map((t=>t.columnId)),sortBy:e.filter((t=>t.sort)).map((t=>({id:t.columnId,desc:"desc"===t.sortMethod}))),widths:Object.fromEntries(e.map((t=>[t.columnId,t.width])))};d.current=t.value,b.current=!1,v((t=>ci(t,n.columnOrder))),m((t=>ci(t,n.hiddenColumns))),w((t=>ci(t,n.sortBy))),g((t=>ci(t,n.widths))),setTimeout((()=>{b.current=!0}),100)}}),[t,h,O,v,m,w,g]);const S=o((()=>{var e;if(t&&"available"===t.status&&b.current){const n=JSON.stringify(null!==(e=function(t,e){let{columnOrder:n,hiddenColumns:r,sortBy:o,widths:i}=t;return e.map(((t,e)=>{var u;const c=n.findIndex((e=>e===t.id));return{column:t.header,sort:!!o.find((e=>e.id===t.id)),sortMethod:(null===(u=o.find((e=>e.id===t.id)))||void 0===u?void 0:u.desc)?"desc":"asc",hidden:!!r.find((e=>e===t.id)),order:c>-1?c:e,width:i[t.id]}}))}({columnOrder:r,hiddenColumns:a,sortBy:f,widths:p},h))&&void 0!==e?e:[]);d.current!==n&&t.value!==n&&(t.setValue(n),d.current=n)}}),[t,r,a,f,p,h]);return{updateSettings:S}}(A,f,K,Z,J,$,tt,et,nt,rt);e((()=>ut()),[K,J,tt,ut]),e((()=>{var t;const[e]=tt;e&&"id"in e&&"desc"in e?null==M||M({columnIndex:Number(e.id),desc:null!==(t=e.desc)&&void 0!==t&&t}):null==M||M(void 0)}),[tt,M]);const ct=o((e=>t("div",{className:"filter",style:{pointerEvents:Q?"none":void 0}},e)),[Q]),at=c((()=>f.map(((t,e)=>{var n;return{id:e.toString(),accessor:"item",alignment:t.alignment,header:t.header,hidden:"hidden"===t.hidable,canHide:"no"!==t.hidable,canDrag:t.draggable,canResize:t.resizable,canSort:t.sortable,customFilter:p?P(ct,e):null,width:t.width,weight:null!==(n=t.size)&&void 0!==n?n:1}}))),[f,P,p,ct]),lt=c((()=>at.filter((t=>!J.includes(t.id))).sort(((t,e)=>function(t,e,n){let r=t.findIndex((t=>t===e.id)),o=t.findIndex((t=>t===n.id));r<0&&(r=Number(e.id));o<0&&(o=Number(n.id));return r<o?-1:r>o?1:0}(K,t,e)))),[at,J,K]),ft=o(((e,n,r)=>lt.find((t=>t.id===e.id))||U?a(((o,i,u)=>{const c=it?()=>F(n):u;return t("div",{key:"row_".concat(n.id,"_cell_").concat(e.id),className:y("td",{"td-borders":0===r},i,{clickable:!!c,"hidden-column-preview":U&&d&&e.hidden}),onClick:c,onKeyDown:c?t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),c())}:void 0,role:c?"button":"cell",tabIndex:c?0:void 0},o)}),n,Number(e.id)):null),[a,d,U,lt,F,it]),st=c((()=>w.map((t=>({item:t})))),[w]),pt=N?t(m,{canNextPage:T,canPreviousPage:0!==E,gotoPage:t=>H&&H((()=>t)),nextPage:()=>H&&H((t=>t+1)),numberOfItems:C,page:E,pageSize:D,previousPage:()=>H&&H((t=>t-1))}):null,yt=c((()=>function(t,e,n){const r=t.map((t=>{const n=e[t.id];if(n)return"".concat(n,"px");switch(t.width){case"autoFit":return"fit-content(100%)";case"manual":return"".concat(t.weight,"fr");default:return"1fr"}})),o=[];n.selectItemColumn&&o.push("fit-content(48px)");o.push(...r),n.visibilitySelectorColumn&&o.push("fit-content(50px)");return{gridTemplateColumns:o.join(" ")}}(lt,nt,{selectItemColumn:ot,visibilitySelectorColumn:d})),[nt,lt,d,ot]);return t("div",{className:y(l,"widget-datagrid",{"widget-datagrid-selection-method-checkbox":ot,"widget-datagrid-selection-method-click":it}),style:L},t("div",{className:"table",role:"table"},t("div",{className:"table-header",role:"rowgroup"},("top"===B||"both"===B)&&pt),_&&t("div",{className:"header-filters",role:"rowgroup","aria-label":j},_),t(v,{className:"table-content",hasMoreItems:T,isInfinite:V,role:"rowgroup",setPage:H,style:yt},t("div",{key:"headers_row",className:"tr",role:"row"},ot&&t("div",{key:"headers_column_select_all",className:"th widget-datagrid-col-select",role:"columnheader"},q&&t(g,{value:q,onChange:n.onSelectAll})),lt.map((e=>k(Number(e.id),t(x,{key:"headers_column_".concat(e.id),className:"align-column-".concat(e.alignment),column:e,draggable:s,dragOver:G,filterable:p,hidable:d,isDragging:Q,preview:U,resizable:b,resizer:t(ai,{onResizeEnds:ut,setColumnWidth:t=>rt((n=>(n[e.id]=t,{...n})))}),setColumnOrder:t=>Z(t),setDragOver:X,setIsDragging:W,setSortBy:et,sortable:h,sortBy:tt,visibleColumns:lt})))),d&&t(S,{key:"headers_column_selector",columns:at,hiddenColumns:J,id:R,setHiddenColumns:$})),st.map(((e,n)=>t("div",{key:"row_".concat(e.item.id),className:y("tr",null==I?void 0:I(e.item),{"tr-selected":z(e.item)}),role:"row"},ot&&t("div",{key:"cell_checkbox",className:y("td widget-datagrid-col-select",{"td-borders":0===n})},t("input",{checked:z(e.item),onChange:()=>F(e.item),type:"checkbox",tabIndex:-1})),lt.map((t=>ft(t,e.item,n))),d&&t("div",{key:"cell_column_dropdown","aria-hidden":!0,className:y("td column-selector",{"td-borders":0===n})})))),(0===w.length||U)&&O&&O((e=>{const n=f.length+(d?1:0)+(ot?1:0);return t("div",{key:"row-footer",className:y("td",{"td-borders":!U}),style:{gridColumn:"span ".concat(n)}},t("div",{className:"empty-placeholder"},e))}))),t("div",{className:"table-footer",role:"rowgroup"},("bottom"===B||"both"===B)&&pt)))}function fi(t,e){if(!t||!e)return[];const n=si(e);return n?n.filter((t=>!!t.arg1&&!!t.arg2)).filter((e=>"attribute"===e.arg1.type&&e.arg1.attributeId===t.id)).map((t=>({type:t.name,value:t.arg2.value}))):[]}function si(t){return!t||"function"!==t.type||"and"!==t.name&&"or"!==t.name?t?[t]:void 0:t.args.flatMap(si).filter((t=>void 0!==t))}function pi(t){if(null==t)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Did not expect an argument to be undefined");return t}function yi(t){if(t.filterAssociation)return function(t){const e=t=>"Can't map ColumnsType to AssociationProperties: ".concat(t," is undefined"),n=pi(t.filterAssociation,e("filterAssociation")),r=pi(t.filterAssociationOptions,e("filterAssociationOptions")),o=pi(t.filterAssociationOptionLabel,e("filterAssociationOptionLabel"));return{association:n,optionsSource:r,getOptionLabel:t=>{var e;return null!==(e=o.get(t).value)&&void 0!==e?e:"Error: unable to get caption"}}}(t)}function di(t){var e;const n="string"==typeof t.attribute||!!(null===(e=t.attribute)||void 0===e?void 0:e.sortable);return t.sortable&&n}const bi={onSelect:()=>{},onSelectAll:()=>{},isSelected:()=>!1};function hi(u){var l,f,s;const p=i("DataGrid".concat(function(){const t="com.mendix.widgets.web.UUID";return window[t]||(window[t]=1),window[t]++}())),[d,h]=r(void 0),v="virtualScrolling"===u.pagination,m=v?u.datasource.limit/u.pageSize:u.datasource.offset/u.pageSize,w=i(void 0),[g,O]=r(!1),S={string:r(),number:r(),date:r(),enum:r()},{FilterContext:P}=b(),_=(void 0===window[ui]&&(window[ui]=n(void 0)),window[ui]),j=function(e){let{onClick:n,columns:r}=e;return o(((e,o,i)=>{var u,c,a,l,f,s,p,d,b,h;const v=r[i],m=v.tooltip&&(null===(u=v.tooltip.get(o))||void 0===u?void 0:u.value);let w;return w="attribute"===v.showContentAs?t("span",{title:m,className:"td-text"},null!==(l=null===(a=null===(c=v.attribute)||void 0===c?void 0:c.get(o))||void 0===a?void 0:a.displayValue)&&void 0!==l?l:""):"dynamicText"===v.showContentAs?t("span",{title:m,className:"td-text"},null!==(p=null===(s=null===(f=v.dynamicText)||void 0===f?void 0:f.get(o))||void 0===s?void 0:s.value)&&void 0!==p?p:""):t("div",{className:"td-custom-content"},null===(d=v.content)||void 0===d?void 0:d.get(o)),e(w,y("align-column-".concat(v.alignment),null===(h=null===(b=v.columnClass)||void 0===b?void 0:b.get(o))||void 0===h?void 0:h.value,{"wrap-text":v.wrapText}),n?()=>k(null==n?void 0:n.get(o)):void 0)}),[r,n])}({columns:u.columns,onClick:u.onClick});e((()=>{u.datasource.requestTotalCount(!0),u.datasource.limit===Number.POSITIVE_INFINITY&&u.datasource.setLimit(u.pageSize)}),[u.datasource,u.pageSize]),e((()=>{!u.datasource.filter||g||w.current||(w.current=u.datasource.filter)}),[u.datasource,u.configurationAttribute,g]),e((()=>{u.refreshInterval>0&&setTimeout((()=>{u.datasource.reload()}),1e3*u.refreshInterval)}),[u.datasource,u.refreshInterval]);const T=o((t=>{const e=t(m);v?u.datasource.setLimit(e*u.pageSize):u.datasource.setOffset(e*u.pageSize)}),[u.datasource,u.pageSize,v,m]),x=u.columns.map((()=>r())),C=x.map((t=>{let[e]=t;var n;return null===(n=null==e?void 0:e.getFilterCondition)||void 0===n?void 0:n.call(e)})).filter((t=>void 0!==t)).concat(Object.keys(S).map((t=>{var e;return null===(e=S[t][0])||void 0===e?void 0:e.getFilterCondition()})).filter((t=>void 0!==t)));C.length>0?u.datasource.setFilter(C.length>1?a(...C):C[0]):g?u.datasource.setFilter(void 0):u.datasource.setFilter(w.current),d?u.datasource.setSortOrder([[u.columns[d.columnIndex].attribute.id,d.desc?"desc":"asc"]]):u.datasource.setSortOrder(void 0);const E=c((()=>function(t){return t.map((t=>{var e;return{...t,header:t.header&&R(t.header)&&null!==(e=t.header.value)&&void 0!==e?e:"",sortable:di(t)}}))}(u.columns)),[u.columns]),D=c((()=>u.filterList.reduce(((t,e)=>{let{filter:n}=e;return{...t,[n.id]:n}}),{})),[u.filterList]),N=c((()=>u.filterList.reduce(((t,e)=>{let{filter:n}=e;return{...t,[n.id]:fi(n,w.current)}}),{})),[u.filterList]),B=function(t,n,r){var o,u;const c=i(!1);e((()=>{c.current&&(null==r||r.execute())}),[null==t?void 0:t.selection]),e((()=>{"loading"!==(null==n?void 0:n.status)&&(c.current=!0)}),[null==n?void 0:n.status]);const a=i(void 0);return void 0!==t&&("Single"===t.type?a.current?a.current.updateProps(t):a.current=new oi(t):a.current?a.current.updateProps(t,null!==(u=n.items)&&void 0!==u?u:[]):a.current=new ii(t,null!==(o=n.items)&&void 0!==o?o:[])),a.current}(u.itemSelection,u.datasource,u.onSelectionChange),U=function(t){return c((()=>t?{onSelect:e=>{t.isSelected(e)?t.remove(e):t.add(e)},onSelectAll:"Single"===t.type?()=>{console.warn("Datagrid: calling onSelectAll in single selection mode have no effect")}:()=>{"all"===t.selectionStatus?t.selectNone():t.selectAll()},isSelected:e=>t.isSelected(e)}:bi),[t])}(B),{selectionStatus:I,selectionMethod:H}=function(t,e){const{itemSelection:n,itemSelectionMethod:r,showSelectAllToggle:o}=t,i="string"==typeof n,u=void 0!==n&&"None"!==n,c=(i?"Multi"===n:"Multi"===(null==n?void 0:n.type))&&"checkbox"===r&&o,a=i?"none":"Multi"===(null==e?void 0:e.type)?e.selectionStatus:void 0;return{selectionStatus:c?a:void 0,selectionMethod:u?r:"none"}}(u,B),M=function(t){const e=o((()=>{"Multi"===(null==t?void 0:t.type)&&("all"===t.selectionStatus?t.selectNone():t.selectAll())}),[t]),n="Multi"===(null==t?void 0:t.type)?t.selectionStatus:void 0;return c((()=>{if(void 0!==n)return{status:n,toggle:e}}),[n,e])}(B);return t(li,{selectionStatus:I,selectionMethod:H,cellRenderer:j,className:u.class,columns:E,columnsDraggable:u.columnsDraggable,columnsFilterable:u.columnsFilterable,columnsHidable:u.columnsHidable,columnsResizable:u.columnsResizable,columnsSortable:u.columnsSortable,data:null!==(l=u.datasource.items)&&void 0!==l?l:[],emptyPlaceholderRenderer:o((e=>"custom"===u.showEmptyPlaceholder?e(u.emptyPlaceholder):t("div",null)),[u.emptyPlaceholder,u.showEmptyPlaceholder]),filterRenderer:o(((e,n)=>{const r=u.columns[n],{attribute:o,filter:i}=r,c=yi(r),[,a]=x[n],l=fi(o,w.current);return e(o||c?t(P.Provider,{value:{filterDispatcher:t=>(O(!0),a(t),t),singleAttribute:o,singleInitialFilter:l,associationProperties:c}},i):i)}),[P,x,u.columns]),hasMoreItems:null!==(f=u.datasource.hasMoreItems)&&void 0!==f&&f,headerWrapperRenderer:o(((t,e)=>e),[]),gridHeaderWidgets:c((()=>t(P.Provider,{value:{filterDispatcher:t=>{if(t.filterType){const[,e]=S[t.filterType];e(t),O(!0)}return t},multipleAttributes:D,multipleInitialFilters:N}},t(_.Provider,{value:M},u.filtersPlaceholder))),[P,D,N,u.filtersPlaceholder,S]),gridHeaderTitle:null===(s=u.filterSectionTitle)||void 0===s?void 0:s.value,id:p.current,numberOfItems:u.datasource.totalCount,page:m,pageSize:u.pageSize,paging:"buttons"===u.pagination,pagingPosition:u.pagingPosition,rowClass:o((t=>{var e,n,r;return null!==(r=null===(n=null===(e=u.rowClass)||void 0===e?void 0:e.get(t))||void 0===n?void 0:n.value)&&void 0!==r?r:""}),[u.rowClass]),setPage:T,setSortParameters:h,settings:u.configurationAttribute,styles:u.style,valueForSort:o(((t,e)=>{const n=u.columns[e];return n.attribute?n.attribute.get(t).value:""}),[u.columns]),onSelect:U.onSelect,onSelectAll:U.onSelectAll,isSelected:U.isSelected})}export{hi as default};
