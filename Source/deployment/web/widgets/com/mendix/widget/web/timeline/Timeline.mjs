import{createElement as e,Children as t,useMemo as i}from"react";import{Icon as n}from"mendix/components/web/Icon";var o,a={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/o=a,function(){var e={}.hasOwnProperty;function t(){for(var i=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var a=typeof o;if("string"===a||"number"===a)i.push(o);else if(Array.isArray(o)){if(o.length){var r=t.apply(null,o);r&&i.push(r)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){i.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&i.push(l)}}}return i.join(" ")}o.exports?(t.default=t,o.exports=t):window.classNames=t}();var r=a.exports;function l(t){return e("div",{className:r("widget-timeline-wrapper",t.class)},function(t,i,o,a){const l=[],d=[];t.forEach(((t,a)=>{let c,u=e("span",null,a);if(i){c=function(t){return t.map(((t,i)=>e("li",{key:i,onClick:()=>{var e;return null===(e=t.action)||void 0===e?void 0:e.execute()},className:r("widget-timeline-event",t.action?"clickable":void 0)},e("div",{className:"widget-timeline-icon-wrapper"},s(t.icon)?t.icon:e("div",{className:"widget-timeline-icon-circle"})),e("div",{className:"widget-timeline-flex-container widget-timeline-content-wrapper"},s(t.eventDateTime)&&e("div",{className:"widget-timeline-date-time-wrapper"},t.eventDateTime),e("div",{className:"widget-timeline-flex-container widget-timeline-info-wrapper"},t.title,t.description)))))}(t);const i=t[0];(null==i?void 0:i.groupHeader)&&(u=i.groupHeader)}else c=function(t){return t.map(((t,i)=>e("li",{key:i,onClick:()=>{var e;return null===(e=t.action)||void 0===e?void 0:e.execute()},className:r("widget-timeline-event",t.action?"clickable":void 0)},e("div",{className:"widget-timeline-icon-wrapper"},t.icon?e(n,{icon:t.icon}):e("div",{className:"widget-timeline-icon-circle"})),e("div",{className:"widget-timeline-flex-container widget-timeline-content-wrapper"},t.eventDateTime&&e("div",{className:"widget-timeline-date-time-wrapper"},e("p",{className:"widget-eventTime"},t.eventDateTime)),e("div",{className:"widget-timeline-flex-container widget-timeline-info-wrapper"},t.title&&e("p",{className:"widget-timeline-title"},t.title),t.description&&e("p",{className:"widget-timeline-description"},t.description))))))}(t);const v=e("div",{className:"timeline-date",key:a},o&&a&&e("div",{className:"widget-timeline-date-header"},u),e("div",{className:r("widget-timeline-events-wrapper",o&&a?void 0:"widget-timeline-no-divider")},e("ul",null,c)));a?l.push(v):d.push(v)})),"beginning"===a?l.unshift(d):l.push(d);return l}(t.data,t.customVisualization,t.groupEvents,t.ungroupedEventsPosition))}function s(e){var i;return t.count(null===(i=e)||void 0===i?void 0:i.props.children)>0}function d(e,t,i){if(e&&"datetime"===e.type)switch(t){case"fullDate":case"day":return e.withConfig({type:"date"}).format(i);case"dayName":return e.withConfig({type:"custom",pattern:"EEEE"}).format(i);case"dayMonth":return e.withConfig({type:"custom",pattern:"dd MMMM"}).format(i);case"month":return e.withConfig({type:"custom",pattern:"MMMM"}).format(i);case"monthYear":return e.withConfig({type:"custom",pattern:"MMM YYYY"}).format(i);default:return e.withConfig({type:"custom",pattern:"YYYY"}).format(i)}return""}function c(t){const n=i((()=>{var e;const i=new Map;return null===(e=t.data.items)||void 0===e||e.forEach((e=>{var n,o,a,r,l,s,c,u,v,m,p,g,f,w,h;let y;const N=null===(n=t.groupAttribute)||void 0===n?void 0:n.get(e),M=null==N?void 0:N.value;let E;var x;t.customVisualization?(E=d(null==N?void 0:N.formatter,"month"===(x=t.groupByKey)?"monthYear":x,M),y={icon:null===(m=t.customIcon)||void 0===m?void 0:m.get(e),groupHeader:null===(p=t.customGroupHeader)||void 0===p?void 0:p.get(e),title:null===(g=t.customTitle)||void 0===g?void 0:g.get(e),eventDateTime:null===(f=t.customEventDateTime)||void 0===f?void 0:f.get(e),description:null===(w=t.customDescription)||void 0===w?void 0:w.get(e),action:null===(h=t.onClick)||void 0===h?void 0:h.get(e)}):(E=d(null==N?void 0:N.formatter,function(e){let{groupByKey:t,groupByDayOptions:i,groupByMonthOptions:n}=e;return"day"===t?i:"month"===t?n:"year"}(t),M),y={icon:null===(o=t.icon)||void 0===o?void 0:o.value,title:null===(r=null===(a=t.title)||void 0===a?void 0:a.get(e))||void 0===r?void 0:r.value,eventDateTime:null===(s=null===(l=t.timeIndication)||void 0===l?void 0:l.get(e))||void 0===s?void 0:s.value,description:null===(u=null===(c=t.description)||void 0===c?void 0:c.get(e))||void 0===u?void 0:u.value,action:null===(v=t.onClick)||void 0===v?void 0:v.get(e)});const C=i.get(E);C?C.push(y):i.set(E,[y])})),i}),[t.data]);return e(l,{class:t.class,data:n,groupEvents:t.groupEvents,customVisualization:t.customVisualization,ungroupedEventsPosition:t.ungroupedEventsPosition})}export{c as default};
